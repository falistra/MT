var main=webpackJsonp_name_([1],[function(e,t,n){"use strict";function o(e){return document.getElementById(e)}function r(e,t){o("diagram-column").insertAdjacentHTML("afterbegin",'<div class="alert alert-'+e+' alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>'+t+"</div>")}function i(e){p.duplicate(e,{select:!0,type:"open"})}var a=n(24),s=n(23),c=n(12),u=n(3).toDocFragment,l=n(17),d=n(4);l.config.loadModule("ace/ext/language_tools"),function(){n(7).canUseLocalStorage||r("info",'<p>Local storage is unavailable. Your browser could be in Private Browsing mode, or it might not support <a href="http://caniuse.com/#feat=namevalue-storage" target="_blank">local storage</a>.</p><strong>Any changes will be lost after leaving the webpage.</strong>');var e=new Function("/*@cc_on return @_jscript_version; @*/")()<11;e&&r("warning",'<p><strong>Your <a href="http://whatbrowser.org" target="_blank">web browser</a> is out of date</strong> and does not support some features used by this program.<br><em>The page may not work correctly, and data may be lost.</em></p>Please update your browser, or use another browser such as <a href="http://www.google.com/chrome/browser/" target="_blank">Chrome</a> or <a href="http://getfirefox.com" target="_blank">Firefox</a>.'),d(function(){var e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;e&&o("misc-tips-list").insertAdjacentHTML("afterbegin",'<li><strong class="text-warning">Important note for iOS</strong>: iOS saves browser local storage in the cache folder, which is <strong>not backed up</strong>, and is <q cite="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API#Browser_compatibility"><strong>subject to occasional clean up</strong>, at the behest of the OS, typically if space is short.</q></li>')})}(),d(function(){d(".tm-needsready").prop("disabled",!1);var e={dialogNode:o("importDialog"),importDocument:i};n(15).runImport(e);var t=d("#importPanel");t.one("show.bs.modal",function(){n(31).init({$dialog:t,gistIDForm:o("gistIDForm"),importArgs:e})});var r=o("exportPanel");n(30).init({$dialog:d(r),getCurrentDocument:function(){return m.save(),p.currentDocument},getIsSynced:m.getIsSynced.bind(m),gistContainer:o("shareGistContainer"),downloadContainer:o("exportDownloadContainer"),copyContentsButton:o("copyContentsButton"),textarea:r.querySelector("textarea")})});var p=function(){var e=document.getElementById("tm-doc-menu"),t=document.createElement("optgroup");t.label="Documents",e.appendChild(t);var n=document.createElement("optgroup");return n.label="Examples",n.appendChild(u(c.list.map(s.prototype.optionFromDocument))),e.appendChild(n),new s({menu:e,group:t,storagePrefix:"tm.docs",firsttimeDocID:c.firsttimeDocID})}();!function(){function e(){m.save(),p.duplicate(p.currentDocument,{select:!0})}function t(){p.newDocument({select:!0}),m.editor.insertSnippet&&(m.editor.insertSnippet(c.blankTemplate),m.loadEditorSource())}p.onChange=function(e,t){switch(t&&t.type){case"duplicate":m.setBackingDocument(e);break;case"delete":m.forceLoadDocument(e);break;default:m.openDocument(e)}n()};var n=function(){function t(){e()}var n,o=document.querySelector('[data-target="#renameDialog"]'),r=document.querySelector('[data-target="#deleteDialog"]');return function(){var e=p.currentDocument.isExample;n!==e&&(e?(o.textContent="Rinomina una copia…",o.addEventListener("click",t),o.removeAttribute("data-toggle"),r.textContent="Reimposta questo esempio…",r.setAttribute("data-target","#resetExampleDialog")):(o.textContent="Rename…",o.removeEventListener("click",t),o.setAttribute("data-toggle","modal"),r.textContent="Delete…",r.setAttribute("data-target","#deleteDialog")),n=e)}}();n();var r=d(o("renameDialog"));[{id:"tm-doc-action-duplicate",callback:e},{id:"tm-doc-action-newblank",callback:t}].forEach(function(e){document.getElementById(e.id).addEventListener("click",function(t){t.preventDefault(),e.callback(t),r.modal({keyboard:!1}).one("hidden.bs.modal",function(){m.editor.focus()})})})}(),function(){function e(){p.delete()}function t(){p.delete(),m.forceLoadDocument(p.currentDocument)}function n(){p.duplicate(p.currentDocument,{select:!1}),t()}var r=d(o("renameDialog")),i=o("renameDialogInput");r.on("show.bs.modal",function(){i.value=p.currentOption.text}).on("shown.bs.modal",function(){i.select()}).on("hidden.bs.modal",function(){var e=i.value;p.currentOption.text!==e&&p.rename(e),i.value=""}),document.getElementById("renameDialogForm").addEventListener("submit",function(e){e.preventDefault(),r.modal("hide")}),document.getElementById("tm-doc-action-delete").addEventListener("click",e),document.getElementById("tm-doc-action-resetdiscard").addEventListener("click",t),document.getElementById("tm-doc-action-resetsave").addEventListener("click",n)}();var m=function(){function e(e,t){return e.querySelector("button.tm-"+t)}var t=document.getElementById("editor-container"),n=document.getElementById("controls-container"),o=t.parentNode;return new a({simulator:document.getElementById("machine-container"),editorAlerts:document.getElementById("editor-alerts-container"),editor:t},{simulator:{run:e(n,"run"),step:e(n,"step"),reset:e(n,"reset")},editor:{load:e(o,"editor-load"),revert:e(o,"editor-revert")}},p.currentDocument)}();m.editor.setTheme("ace/theme/chrome"),m.editor.commands.addCommand({name:"save",bindKey:{mac:"Cmd-S",win:"Ctrl-S"},exec:function(){m.loadEditorSource()}}),m.editor.session.setUseWrapMode(!0),d(function(){try{n(27).main(m.editor.commands,o("kbdShortcutTable"))}catch(e){}}),window.addEventListener("beforeunload",function(e){try{m.save(),p.saveCurrentDocID()}catch(t){return r("warning",'<h4>The current document could not be saved.</h4><p>It’s likely that the <a href="https://en.wikipedia.org/wiki/Web_storage#Storage_size" target="_blank">local storage quota</a> was exceeded. Try downloading a copy of this document, then deleting other documents to make space.</p>'),(e||window.event).returnValue="There is not enough space left to save the current document."}}),window.addEventListener("blur",function(){m.save()}),function(){var e=!1;n(9).addOutsideChangeListener(function(t,n){t!==m.getDocument().id||"name"===n||e||(e=!0,setTimeout(function(){e=!1,m.forceLoadDocument(m.getDocument(),!0)},100))})}(),t.controller=m},,,,function(e,t){e.exports=jQuery},function(e,t,n){"use strict";function o(e){return function(t){var n={};return null!=t&&Object.keys(e).forEach(function(o){var r=e[o];n[r]=t[o]}),n}}function r(e){if(null==e||null==e.sourceCode)throw new i("The “source code:” value is missing");if(!s.isString(e.sourceCode))throw new i("The “source code:” value needs to be of type string");return e}function i(e){this.name="InvalidDocumentError",this.message=e||"Invalid document",this.stack=(new Error).stack}var a=n(18),s=n(1),c={name:"name",sourceCode:"source code",positionTable:"positions",editorSourceCode:"editor contents"},u=s.invert(c),l=s.flow(o(c),s.omitBy(function(e){return null==e}),s.update("positions",s.mapValues(function(e){return e.fixed?{x:e.x,y:e.y}:{x:e.x,y:e.y,fixed:!1}})),s.partialRight(a.safeDump,[{flowLevel:2,lineWidth:-1,noRefs:!0,noCompatMode:!0}])),d=s.flow(a.safeLoad,s.update("positions",s.mapValues(function(e){return s.defaults({px:e.x,py:e.y,fixed:!0},e)})),o(u),r);i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,t.stringifyDocument=l,t.parseDocument=d,t.InvalidDocumentError=i,t.YAMLException=a.YAMLException},,function(e,t,n){"use strict";var o=n(3).isBrowserIEorEdge,r=function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}(),i=function(){var e={};return Object.freeze({get length(){return Object.keys(e).length},key:function(t){return t in Object.keys(e)?Object.keys(e)[t]:null},getItem:function(t){return{}.hasOwnProperty.call(e,t)?e[t]:null},setItem:function(t,n){e[t]=String(n)},removeItem:function(t){delete e[t]},clear:function(){e={}}})}(),a=function(){var e=r?localStorage:i,t=o?function(){return window.document.hasFocus()}:function(){return!1};return{read:e.getItem.bind(e),write:e.setItem.bind(e),remove:e.removeItem.bind(e),addStorageListener:r?function(e){window.addEventListener("storage",function(n){t()||n.storageArea===localStorage&&e(n)})}:function(){},removeStorageListener:r?window.removeEventListener.bind(window,"storage"):function(){}}}();t.canUseLocalStorage=r,t.KeyValueStorage=a},function(e,t){e.exports=Promise},function(e,t,n){"use strict";function o(e){var t=s.get(e);Object.defineProperties(this,{id:{value:e},prefix:{value:"doc."+e},isExample:{value:!!t}}),t&&Object.defineProperties(this,{sourceCode:r(t,this,"sourceCode"),positionTable:r(t,this,"positionTable"),name:{get:function(){return t.name},set:function(){},enumerable:!0}})}function r(e,t,n){var o=Object.getPrototypeOf(t),r=Object.getOwnPropertyDescriptor(o,n),i=r.get;return r.get=function(){return c.coalesce(i.call(t),e[n])},r}function i(e){function t(e){return Math.round(e*n)/n}var n=Math.pow(10,e);return function(e){var n=u(e).pick(["x","y","px","py"]).mapValues(t).value();return n.fixed=e.fixed,n}}var a=n(7).KeyValueStorage,s=n(12),c=n(3),u=n(1);o.prototype.path=function(e){return[this.prefix,e].join(".")},function(){function e(e){return{get:function(){return n(this.path(e))},set:function(t){r(this.path(e),t)},enumerable:!0}}var t=a,n=t.read.bind(t),r=function(e,n){null!=n?t.write(e,n):t.remove(e)},i={sourceCode:e("diagram.sourceCode"),positionTable:{get:function(){return c.applyMaybe(l,n(this.path("diagram.positions")))},set:function(e){r(this.path("diagram.positions"),c.applyMaybe(d,e))},enumerable:!0},editorSourceCode:e("editor.sourceCode"),name:e("name")};Object.defineProperties(o.prototype,i),o.prototype.dataKeys=Object.keys(i)}(),o.prototype.copyFrom=function(e){return this.dataKeys.forEach(function(t){this[t]=e[t]},this),this},o.prototype.delete=function(){this.copyFrom({})},o.IDFromNameStorageKey=function(e){var t=/^doc\.([^.]+)\.name$/.exec(e);return t&&t[1]},o.addOutsideChangeListener=function(e){var t=/^doc\.([^.]+)\.(.+)$/;a.addStorageListener(function(n){var o=t.exec(n.key);o&&e(o[1],o[2])})};var l=JSON.parse,d=u.flow(u.mapValues(i(2)),JSON.stringify);e.exports=o},,,function(e,t,n){"use strict";function o(e){return n(26)("./"+e+".yaml")}function r(e){return{}.hasOwnProperty.call(u,e)}function i(e){return r(e)?u[e]:null}var a=n(5).parseDocument,s=n(1).fromPairs,c=["binaryIncrement"].map(function(e){var t=a(o(e));return t.id=e,[e,t]}),u=Object.freeze(s(c)),l=c.map(function(e){return e[1]});t.hasID=r,t.get=i,t.list=l,t.firsttimeDocID="binaryIncrement",t.blankTemplate=o("_template")},function(e,t,n){"use strict";function o(e,t){this.name="TMSpecError",this.stack=(new Error).stack,this.reason=e,this.details=t||{}}function r(e){var t=h.safeLoad(e);if(null==t)throw new o("The document is empty",{info:"Every Turing machine requires a <code>blank</code> tape symbol, a <code>start state</code>, and a transition <code>table</code>"});var n={suggestion:"Examples: <code>blank: ' '</code>, <code>blank: '0'</code>"};if(null==t.blank)throw new o("No blank symbol was specified",n);if(t.blank=String(t.blank),1!==t.blank.length)throw new o("The blank symbol must be a string of length 1",n);if(t.startState=t["start state"],delete t["start state"],null==t.startState)throw new o("No start state was specified",{suggestion:"Assign one using <code>start state: </code>"});t.startState=String(t.startState),i(t.table);var r=a(t.synonyms,t.table);if(t.table=s(r,t.table),!(t.startState in t.table))throw new o("The start state has to be declared in the transition table");return t}function i(e){if(null==e)throw new o("Missing transition table",{suggestion:"Specify one using <code>table:</code>"});if("object"!=typeof e)throw new o("Transition table has an invalid type",{problemValue:typeof e,info:"The transition table should be a nested mapping from states to symbols to instructions"})}function a(e,t){if(null==e)return null;if("object"!=typeof e)throw new o("Synonyms table has an invalid type",{problemValue:typeof e,info:"Synonyms should be a mapping from string abbreviations to instructions (e.g. <code>accept: {R: accept}</code>)"});return f.mapValues(e,function(e,n){try{return l(null,t,e)}catch(e){throw e instanceof o&&(e.details.synonym=n,"Unrecognized string"===e.reason&&(e.details.info="Note that a synonym cannot be defined using another synonym")),e}})}function s(e,t){return f.mapValues(t,function(n,r){if(null==n)return null;if("object"!=typeof n)throw new o("State entry has an invalid type",{problemValue:typeof n,state:r,info:"Each state should map symbols to instructions. An empty map signifies a halting state."});return f.mapValues(n,function(n,i){try{return l(e,t,n)}catch(e){throw e instanceof o&&(e.details.state=r,e.details.symbol=i),e}})})}function c(e,t,n){return Object.freeze(f.omitBy({symbol:e,move:t,state:n},function(e){return null==e}))}function u(e,t){if(null!=t.state&&!(t.state in e))throw new o("Undeclared state",{problemValue:t.state,suggestion:"Make sure to list all states in the transition table and define their transitions (if any)"});return t}function l(e,t,n){return u(t,function(){switch(typeof n){case"string":return d(e,n);case"object":return p(n);default:throw new o("Invalid instruction type",{problemValue:typeof n,info:"An instruction can be a string (a direction <code>L</code>/<code>R</code> or a synonym) or a mapping (examples: <code>{R: accept}</code>, <code>{write: ' ', L: start}</code>)"})}}())}function d(e,t){if("L"===t)return g;if("R"===t)return y;if(e&&e[t])return e[t];throw new o("Unrecognized string",{problemValue:t,info:"An instruction can be a string if it's a synonym or a direction"})}function p(e){var t,n,r;if(null==e)throw new o("Missing instruction");if(function(){var t;if(!Object.keys(e).every(function(e){return t=e,"L"===e||"R"===e||"write"===e}))throw new o("Unrecognized key",{problemValue:t,info:"An instruction always has a tape movement <code>L</code> or <code>R</code>, and optionally can <code>write</code> a symbol"})}(),"L"in e&&"R"in e)throw new o("Conflicting tape movements",{info:"Each instruction needs exactly one movement direction, but two were found"});if("L"in e)n=m.MoveHead.left,r=e.L;else{if(!("R"in e))throw new o("Missing movement direction");n=m.MoveHead.right,r=e.R}if("write"in e){var i=String(e.write);if(1!==i.length)throw new o("Write requires a string of length 1");t=i}return c(t,n,r)}var m=n(11),h=n(18),f=n(6);o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,Object.defineProperty(o.prototype,"message",{get:function(){function e(e){return"<code>"+e+"</code>"}function t(t,n,o){return null!=t?null!=n?" in the transition from state "+e(t)+" and symbol "+e(n):" for state "+e(t):null!=o?" in the definition of synonym "+e(o):""}var n=this.reason,o=this.details,r=o.problemValue?" "+e(o.problemValue):"",i=t(o.state,o.symbol,o.synonym),a=["<strong>"+n+r+"</strong>"+i,o.info,o.suggestion].filter(f.identity).map(function(e){return e+"."});return i&&a.splice(1,0,"<br>"),a.join(" ")},enumerable:!0});var g=Object.freeze({move:m.MoveHead.left}),y=Object.freeze({move:m.MoveHead.right});t.TMSpecError=o,t.parseSpec=r,t.YAMLException=h.YAMLException},function(e,t,n){"use strict";function o(e){return new s(function(t,n,o){e.then(t,function(e,t,o){n({xhr:e,status:t,error:o})}),o&&o(function(){try{e.abort()}catch(e){}})})}function r(e){return o(a.ajax({url:"https://api.github.com/gists/"+e,type:"GET",dataType:"json",accepts:"application/vnd.github.v3+json"}))}function i(e){return o(a.ajax({url:"https://api.github.com/gists",type:"POST",data:JSON.stringify(e),dataType:"json",accepts:"application/vnd.github.v3+json"}))}var a=n(4),s=n(8);s.config({cancellation:!0}),t.getGist=r,t.createGist=i},function(e,t,n){"use strict";function o(e){return decodeURIComponent(e.replace("+"," "))}function r(e){function t(e){return e?o(e):""}var n={};return e.split("&").forEach(function(e){var o=e.split("=");n[t(o[0])]=t(o[1])}),n}function i(e){this.node=e,this.titleNode=e.querySelector(".modal-header .modal-title"),this.bodyNode=e.querySelector(".modal-body"),this.footerNode=e.querySelector(".modal-footer"),this.cancelButtonNode=T.select(this.footerNode).text("").append("button").attr({type:"button",class:"btn btn-default","data-dismiss":"modal"}).text("Cancel").node(),this.$dialog=L(e).one("hide.bs.modal",this.__onClose.bind(this))}function a(e,t){var n=e.append("div").attr("class","panel panel-default");return n.append("div").attr("class","panel-heading").append("h5").attr("class","panel-title").html(t),n}function s(e,t){var n=A;return t.data&&t.data.length&&(n=a(e,t.title),n.append("div").attr("class","panel-body").append("ul").attr("class","list-inline").selectAll("li").data(t.data).enter().append("li").text(I.identity)),n}function c(e,t){var n=A;return t.data&&t.data.length&&(n=a(e,t.title),n.append("table").attr("class","table").call(function(e){e.append("thead").append("tr").selectAll("th").data(t.headers).enter().append("th").text(I.identity),e.append("tbody").selectAll("tr").data(t.data).enter().append("tr").selectAll("td").data(I.identity).enter().append("td").each(function(e){var t=T.select(this);"function"==typeof e?e(t):t.text(e)})})),n}function u(e,t,n){if(!O(t)){var o="nondocument-files";e.append("a").attr({href:"#"+o,class:"disclosure-triangle collapsed",role:"button","data-toggle":"collapse"}).text(n?n:"Show other files");var r=e.append("div").attr({id:o,class:"collapse"});c(r,{title:"Unexpected error",headers:["Filename","Error"],data:t.otherError.map(function(e){return[e.filename,l(e.error)]})}).classed("panel-danger",!0),c(r,{title:"Not suitable for import",headers:["Filename","Reason"],data:t.badDoc.map(function(e){return[e.filename,e.error.message]})}),c(r,{title:"Not valid as YAML",headers:["Filename","Syntax error"],data:t.badYAML.map(function(e){return[e.filename,function(t){t.append("pre").text(e.error.message)}]})}),s(r,{title:"File is too large",data:t.tooLarge}),s(r,{title:"Different file extension (not <code>.yaml</code>/<code>.yml</code>)",data:t.wrongType})}}function l(e){return e instanceof Error?String(e):e.message||e.name||String(e)}function d(e,t){var n=[],o={wrongType:[],tooLarge:[],badYAML:[],badDoc:[],otherError:[]};return _.each(t,function(t){var r=t.filename||t.name;if(r.search(/\.ya?ml$/)===-1)o.wrongType.push(r);else{if(!(t.truncated||t.size>e))return _.resolve(null!=t.content?t.content:k.readAsText(t)).then(function(e){n.push({filename:r,size:t.size,document:S.parseDocument(e)})}).catch(function(e){var t={filename:r,error:e};e instanceof S.YAMLException?o.badYAML.push(t):e instanceof S.InvalidDocumentError?o.badDoc.push(t):o.otherError.push(t)});o.tooLarge.push(r)}}).return({documentFiles:n,nonDocumentFiles:o})}function p(e){return(Math.ceil(10*e/1024)/10).toFixed(1)+" KB"}function m(e){var t=e.documentFiles,n=e.nonDocumentFiles,o=e.citeNode,r=e.dialog,i=e.importDocuments,a=T.select(r.bodyNode).text("");a.append("p").call(function(e){e.append("strong").text("Select documents to import"),o&&(e.node().appendChild(document.createTextNode(" from ")),e.node().appendChild(o))});var s=new C({table:a.append("table").attr({class:"table table-hover checkbox-table"}),headers:["Filename","Size"],data:t.map(function(e){return[e.filename,p(e.size)]})});u(a,n);var c=T.select(r.footerNode).append("button").attr({type:"button",class:"btn btn-primary","data-dismiss":"modal"}).property("disabled",!0).text("Import").on("click",function(){T.select(this).on("click",null);var e=T.set(s.getCheckedValues());i(t.filter(function(t){return e.has(t.filename)}).map(I.property("document")))}).node();s.onChange=function(){c.disabled=s.isCheckedEmpty()}}function h(e){var t=e.nonDocumentFiles,n=e.dialog,o=e.citeLink;T.select(n.bodyNode).text("").call(function(e){e.append("p").append("strong").text(O(t)?"No files were selected.":"None of the files are suitable for import."),o&&e.append("p").text("Requested URL: ").node().appendChild(o),u(e,t,"Show details")}),n.cancelButtonNode.textContent="Close"}function f(e){var t=document.createDocumentFragment();return e.forEach(function(e){"string"==typeof e?t.appendChild(document.createTextNode(e)):t.appendChild(e)}),t}function g(e,t){var n=document.createElement(e);return n.appendChild(t),n}function y(e){var t=b({href:"https://gist.github.com/"+e.gistID,textContent:e.description||"gist "+e.gistID});return e.description?g("q",t):t}function b(e){var t=document.createElement("a");return t.href=e.href,t.target="_blank",t.textContent=e.textContent||e.href,t}function v(e){var t,n,o=e.gistID,r=e.dialogNode,a=e.importDocument,s=new i(r),c=409600,u=function(){return null!=o?(s.titleNode.textContent="Import from GitHub gist",t=b({href:"https://gist.github.com/"+o}),s.setBodyChildNodes(["Retrieving ",t,"…"]),E(o).then(function(e){return n=y({gistID:o,description:e.description}),s.setBodyChildNodes(["Processing ",t,"…"]),I.values(e.files)})):(s.titleNode.textContent="Import from files",s.setBodyChildNodes(["Processing files…"]),_.resolve(I.toArray(e.files)))}();s.show();var l=u.then(d.bind(void 0,c)).then(function(e){var o=e.documentFiles;switch(o.length){case 0:return void h({nonDocumentFiles:e.nonDocumentFiles,dialog:s,citeLink:t});case 1:return a(o[0].document),void s.close();default:m({documentFiles:o,nonDocumentFiles:e.nonDocumentFiles,dialog:s,citeNode:n,importDocuments:function(e){e.concat().reverse().map(a)}})}}).catch(function(e){s.setBodyChildNodes([x(e)].concat(t?["Requested URL: ",t]:[])),s.cancelButtonNode.textContent="Close"}),p=new _(function(e){s.onClose=function(){l.cancel(),e()}});return l.return(p)}function w(e,t){var n=document.createElement(e);return n.innerHTML=t,n}function x(e){var t=e.xhr;if(t)return w("p",function(){switch(e.status){case"abort":return[""];case"timeout":return["<strong>The request timed out.</strong>","You can check your connection and try again."];default:return 404===t.status?["<strong>No GitHub gist exists with that ID.</strong>","It’s possible the ID is incorrect, or the gist was deleted."]:0===t.status?["GitHub could not be reached. Your Internet connection may be offline."]:["The import failed because of a <strong>connection error</strong>.","HTTP status code: "+t.status+" "+t.statusText]}}().join("<br>"));var n=document.createElement("pre");return n.textContent=l(e),f([w("p","An unexpected error occurred:"),n])}function D(e){function t(){try{history.replaceState(null,null,location.pathname)}catch(e){}}var n=r(location.search.substring(1)),o=n["import-gist"];o&&N(I.assign({gistID:o},e)).finally(t)}var C=n(28),k=n(29),S=n(5),E=n(14).getGist,L=n(4),I=n(1),T=n(2),_=n(8);i.prototype.__onClose=function(){this.onClose(),L(this.bodyNode).empty(),L(this.footerNode).empty()},i.prototype.onClose=function(){},i.prototype.show=function(){this.$dialog.modal({backdrop:"static",keyboard:!1})},i.prototype.close=function(){this.$dialog.modal("hide")},i.prototype.setBodyChildNodes=function(e){this.bodyNode.textContent="",this.bodyNode.appendChild(f(e))};var A=Object.freeze(T.selectAll([])),O=I.every(I.isEmpty),N=v,M=v;t.importGist=N,t.importLocalFiles=M,t.runImport=D},,function(e,t){e.exports=ace},function(e,t){e.exports=jsyaml},,,function(e,t){e.exports="input: '${2}'\nblank: '${3: }'\nstart state: ${4:start}\ntable:\n  ${4}:\n    ${5}\n"},function(e,t){e.exports="name: incremento binario\nsource code: |\n  # Aggiunge uno a un numero binario.\n  input: '1011'\n  blank: ' '\n  start state: destra\n  table:\n    # va al carattere piu' a destra\n    destra:\n      [1,0]: R\n      ' '  : {L: aggiunge}\n    # poi aggiunge 1\n    aggiunge:\n      1      : {write: 0, L}\n      [0,' ']: {write: 1, L: halt}\n    halt:\n\n\n  # Esercizi:\n\n  # * Modificare la macchina in modo che si fermi sempre sulla cifra più a sinistra \n  #   (indipendentemente dalla lunghezza del numero).\n  #   Suggerimento: aggiungi uno stato tra \"aggiunge\" e \"halt\".\n\n  # • Costruire una macchina che addizioni 2 invece di 1.\n  #   Suggerimento: 2 è '10' in binario, quindi l'ultima cifra non viene influenzata.\n  #   Suggerimento alternativo: concatenare due copie della macchina da\n  #   il primo esercizio (rinominare gli stati della seconda copia).\n\n  # • Costruire una macchina che sottrae 1.\n  #   Per semplicita', assumere che l'input e' sempre maggiore di 1.\n\npositions:\n  destra: {x: 230, y: 250}\n  piu: {x: 400, y: 250}\n  halt: {x: 570, y: 250}\n"},function(e,t,n){"use strict";function o(e){var t=e.menu,n=e.group||t,o=e.storagePrefix,c=e.firsttimeDocID;if(!t)throw new TypeError("DocumentMenu: missing parameter: menu element");if(!o)throw new TypeError("DocumentMenu: missing parameter: storage prefix");e.makeOption&&(this.optionFromDocument=e.makeOption),this.menu=t,this.group=n,this.group.innerHTML="",this.__storagePrefix=o,this.doclist=new r(o+".list"),this.render(),this.selectDocID(this.getSavedCurrentDocID()||c);var u=this;this.menu.addEventListener("change",function(){u.onChange(u.currentDocument,{type:"open"})}),i.addStorageListener(function(e){var t,n,o;e.key===u.doclist.storageKey?(u.doclist.readList(),u.render()):(t=a.IDFromNameStorageKey(e.key))&&(n=u.findOptionByDocID(t),n&&(n.parentNode.replaceChild(o=u.optionFromDocument(new a(t)),n),o.selected=n.selected,s.select(o).datum(s.select(n).datum())))})}function r(e){this.storageKey=e,this.readList()}var i=n(7).KeyValueStorage,a=n(9),s=n(2),c=n(1).defaults;Object.defineProperties(o.prototype,{currentOption:{get:function(){return this.menu.options[this.menu.selectedIndex]},enumerable:!0},currentDocument:{get:function(){var e=this.currentOption;return e?new a(e.value):null},enumerable:!0}}),o.prototype.render=function(){var e=this.currentOption?this.currentOption.value:null,t=s.select(this.group).selectAll("option").data(this.doclist.list,function(e){return e.id});t.exit().remove();var n=this;t.enter().insert(function(e){return n.optionFromDocument(new a(e.id))}),this.currentOption.value!==e&&(this.selectDocID(this.getSavedCurrentDocID(),{type:"delete"})||this.onChange(this.currentDocument,{type:"delete"}))},o.prototype.findOptionByDocID=function(e){return this.menu.querySelector('option[value="'+e.replace(/"/g,'\\"')+'"]')},o.prototype.selectDocID=function(e,t){try{this.findOptionByDocID(e).selected=!0}catch(e){return!1}return this.onChange(this.currentDocument,t),!0},o.prototype.saveCurrentDocID=function(){var e=this.currentOption&&this.currentOption.value;e&&i.write(this.__storagePrefix+".currentDocID",e)},o.prototype.getSavedCurrentDocID=function(){return i.read(this.__storagePrefix+".currentDocID")},o.prototype.optionFromDocument=function(e){var t=document.createElement("option");return t.value=e.id,t.text=e.name||"untitled",t},o.prototype.onChange=function(){},o.prototype.__prepend=function(e,t){var n=this.optionFromDocument(e);return this.group.insertBefore(n,this.group.firstChild),t&&t.select&&(this.menu.selectedIndex=n.index,this.onChange(e,t)),e},o.prototype.newDocument=function(e){return this.__prepend(this.doclist.newDocument(),c({type:"open"},e))},o.prototype.duplicate=function(e,t){return this.__prepend(this.doclist.duplicate(e),c({type:"duplicate"},t))},o.prototype.rename=function(e){this.currentDocument.name=e,this.currentOption.text=e},o.prototype.delete=function(e){this.currentDocument.delete();var t=this.menu.selectedIndex,n=this.doclist.deleteIndex(t);return n&&(this.currentOption.remove(),this.menu.selectedIndex=t,this.onChange(this.currentDocument,c({type:"delete"},e))),n},r.newID=function(){return String(Date.now())},r.prototype.add=function(e){this.__list.unshift({id:e}),this.writeList()},r.prototype.readList=function(){this.__list=JSON.parse(i.read(this.storageKey))||[]},r.prototype.writeList=function(){i.write(this.storageKey,JSON.stringify(this.__list))},r.prototype.newDocument=function(){var e=r.newID();return this.add(e),new a(e)},r.prototype.duplicate=function(e){return this.newDocument().copyFrom(e)},r.prototype.deleteIndex=function(e){var t=this.__list.splice(e,1);return this.writeList(),t.length>0},Object.defineProperties(r.prototype,{list:{get:function(){return this.__list},enumerable:!0}}),e.exports=o},function(e,t,n){"use strict";function o(e,t,n){this.simulator=new i(e.simulator,t.simulator);var o=c.edit(e.editor);o.session.setOptions({mode:"ace/mode/yaml",tabSize:2,useSoftTabs:!0}),o.setOptions({minLines:15,maxLines:50}),o.$blockScrolling=1/0;var r=t.editor,a=this;r.load.addEventListener("click",function(){a.loadEditorSource(),a.save(),a.editor.focus()}),r.revert.addEventListener("click",function(){a.revertEditorSource(),a.editor.focus()}),Object.defineProperties(this,{__document:{value:{editor:{}},writable:!0},buttons:{value:t},containers:{value:e},editor:{value:o,enumerable:!0}}),this.openDocument(n)}function r(e){return{row:e.mark.line,column:e.mark.column,text:"Not valid YAML (possibly caused by a typo):\n"+e.message,type:"error"}}var i=n(25),a=n(13),s=n(3),c=n(17),u=n(2),l=a.TMSpecError,d=a.YAMLException,p=c.require("ace/undomanager").UndoManager;o.prototype.getDocument=function(){return this.__document},o.prototype.setBackingDocument=function(e){this.__document=e},o.prototype.openDocument=function(e){if(this.getDocument().id!==e.id)return this.save(),this.forceLoadDocument(e)},o.prototype.forceLoadDocument=function(e,t){this.setBackingDocument(e);var n=e.sourceCode,o=e.editorSourceCode;if(this.simulator.clear(),this.setEditorValue(null==o?n:o),t||this.editor.session.setUndoManager(new p),null==o)this.loadEditorSource();else{this.isSynced=!1;try{this.simulator.sourceCode=n,this.simulator.positionTable=e.positionTable}catch(e){this.showCorruptDiagramAlert(!0)}}},o.prototype.save=function(){var e=this.getDocument();this.hasValidDiagram?(e.editorSourceCode=this.isSynced?void 0:this.editor.getValue(),e.sourceCode=this.simulator.sourceCode,e.positionTable=this.simulator.positionTable):null==e.editorSourceCode?e.sourceCode=this.editor.getValue():e.editorSourceCode=this.editor.getValue()},o.prototype.setEditorValue=function(e){this.editor.setValue(s.coalesce(e,""),-1),this.setAlertErrors([])},o.prototype.setAlertErrors=function(e){var t=this,n=u.select(t.containers.editorAlerts).selectAll(".alert").data(e,function(e){return String(e)});n.exit().remove(),n.enter().append("div").attr("class","alert alert-danger").attr("role","alert").each(function(e){var n=u.select(this);if(e instanceof d){var o=r(e),i=o.row+1,a=o.column;n.append("strong").text("Syntax error on ").append("a").text("line "+i).on("click",function(){t.editor.gotoLine(i,a,!0),t.editor.focus(),u.event.preventDefault()}).attr("href","#"+t.containers.editor.id),n.append("br"),n.append("span").text("Possible reason: "+e.reason)}else e instanceof l?n.html(e.message):n.html("<strong>Unexpected error</strong>: "+e)}),t.editor.session.setAnnotations(e.map(function(e){return e instanceof d?r(e):null}).filter(function(e){return e}))},o.prototype.setLoadButtonSuccess=function(e){u.select(this.buttons.editor.load).classed({"btn-success":e,"btn-primary":!e})},Object.defineProperty(o.prototype,"isSynced",{set:function(e){if(e=Boolean(e),this.__isSynced!==e&&(this.__isSynced=e,this.setLoadButtonSuccess(e),e)){var t=function(){this.isSynced=!1,this.editor.removeListener("change",t)}.bind(this);this.editor.on("change",t)}},get:function(){return this.__isSynced}}),o.prototype.getIsSynced=function(){return Boolean(this.isSynced)},Object.defineProperty(o.prototype,"hasValidDiagram",{get:function(){return Boolean(this.simulator.sourceCode)}}),o.prototype.showCorruptDiagramAlert=function(e){function t(e){return"<q>"+e+"</q>"}var n=u.select(this.simulator.container);if(e){var o=this.buttons.editor.revert.textContent.trim();n.html("").append("div").attr("class","alert alert-danger").html("<h4>This imported document has an error</h4>"+["The diagram was not valid and could not be displayed.","You can either load a new diagram from the editor, or attempt to recover this one","using "+t(o)+" (which will replace the current editor contents)."].join("<br>"));
}else n.selectAll(".alert").remove()},o.prototype.loadEditorSource=function(){var e=function(){try{var e=!this.hasValidDiagram;return this.simulator.sourceCode=this.editor.getValue(),e&&(this.showCorruptDiagramAlert(!1),this.simulator.positionTable=this.getDocument().positionTable),[]}catch(e){return[e]}}.call(this);this.isSynced=0===e.length,this.setAlertErrors(e)},o.prototype.revertEditorSource=function(){this.setEditorValue(this.hasValidDiagram?this.simulator.sourceCode:this.getDocument().sourceCode),this.hasValidDiagram?this.isSynced=!0:this.loadEditorSource()},e.exports=o},function(e,t,n){"use strict";function o(e,t){this.container=e,this.buttons=t;var n=this;t.step.addEventListener("click",function(){n.machine.isRunning=!1,n.machine.step()}),t.run.addEventListener("click",function(){n.machine.isRunning=!n.machine.isRunning}),t.reset.addEventListener("click",function(){n.machine.reset()}),t.all=c(t),this.clear()}function r(e,t,n,o,r){function i(n){e.disabled=n,t.disabled=n}function a(e){t.innerHTML=e?o:n}s(r,"isHalted",function(e,t,n){return i(n),n}),s(r,"isRunning",function(e,t,n){return a(n),n})}var i=n(13).parseSpec,a=n(10),s=n(16).watchInit,c=n(6).values;o.prototype.clear=function(){this.sourceCode=null},Object.defineProperties(o.prototype,{sourceCode:{get:function(){return this.__sourceCode},set:function(e){if(this.machine&&(this.machine.isRunning=!1,this.machine.stateviz.force.stop()),null==e)this.machine=null,this.container.innerHTML="";else{var t=i(e);if(this.machine){var n=this.machine.positionTable;this.clear(),this.machine=new a(this.container,t,n)}else this.machine=new a(this.container,t)}this.__sourceCode=e},enumerable:!0},positionTable:{get:function(){return this.machine&&this.machine.positionTable},set:function(e){this.machine&&e&&(this.machine.positionTable=e)},enumerable:!0},machine:{get:function(){return this.__machine},set:function(e){this.__machine=e,this.rebindButtons()}}}),o.prototype.htmlForRunButton='<span class="glyphicon glyphicon-play" aria-hidden="true"></span><br>Run',o.prototype.htmlForPauseButton='<span class="glyphicon glyphicon-pause" aria-hidden="true"></span><br>Pause',o.prototype.rebindButtons=function(){var e=this.buttons,t=null!=this.machine;t&&r(e.step,e.run,this.htmlForRunButton,this.htmlForPauseButton,this.machine),e.all.forEach(function(e){e.disabled=!t})},e.exports=o},function(e,t,n){function o(e){return n(r(e))}function r(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./_template.yaml":21,"./binaryIncrement.yaml":22};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=26},function(e,t,n){"use strict";function o(e){return e}function r(e,t){var n=u.select(t).selectAll("tbody").data(e).enter().append("tbody"),r=n.selectAll("tr").data(o).enter().append("tr");return r.selectAll("td").data(o).enter().append("td").html(o),n}function i(e){switch(e){case"Command":return"Cmd";case"Option":return"Opt";case"Up":return"↑";case"Down":return"↓";case"Left":return"←";case"Right":return"→";default:return e}}function a(e){return e.map(function(e){return"<kbd>"+e+"</kbd>"}).join("-")}function s(e){var t=e.platform,n="mac"!==t?o:function(e){return"Alt"===e?"Option":e};return function(o){return e.commands[o].bindKey[t].split("-").map(n)}}function c(e,t){var n=s(e);return r(l.map(function(e){return e.map(function(e){return[a(n(e.name).map(i)),e.desc]})}),t)}var u=n(2),l=[[{name:"save",desc:"Carica la TM<br> <small>Salva le modifiche e carica la macchina.</small>"}],[{name:"togglecomment",desc:"Toggle comment"},{name:"indent",desc:"Indent selection"},{name:"outdent",desc:"Unindent selection"}],[{name:"movelinesup",desc:"Move line up"},{name:"movelinesdown",desc:"Move line down"},{name:"duplicateSelection",desc:"Duplicate line/selection"}],[{name:"selectMoreAfter",desc:"Add next occurrence to selection<br> <small>Like a quick “find”. Useful for renaming things.</small>"},{name:"find",desc:"Find"},{name:"replace",desc:"Find and Replace"}]];t.main=c},function(e,t,n){"use strict";function o(e){return e}function r(e){return e[0]}function i(e){this.table=e.table,this.headerRow=this.table.append("thead").append("tr"),this.tbody=this.table.append("tbody");var t=this;this.headerCheckbox=this.headerRow.append("th").attr("class","checkbox-cell").append("input").attr("type","checkbox").on("click",function(){t.getCheckboxes().property("checked",this.checked),t.onChange()}),a(this.tbody.node()).on("click","tr",function(e){if("INPUT"!==e.target.tagName){var n=this.querySelector('input[type="checkbox"]');n.checked=!n.checked}t.refresh(),t.onChange()}),e.headers&&this.setHeaders(e.headers),e.data&&this.setData(e.data)}var a=n(4);i.prototype.setHeaders=function(e){var t=this.headerRow.selectAll("th:not(.checkbox-cell)").data(e);t.exit().remove(),t.enter().append("th"),t.text(o)},i.prototype.setData=function(e){var t=this.tbody.selectAll("tr").data(e,r);t.exit().remove(),t.enter().append("tr").append("td").attr("class","checkbox-cell").append("input").attr({type:"checkbox",value:r}),t.order();var n=t.selectAll("td:not(.checkbox-cell)").data(o);return n.exit().remove(),n.enter().append("td"),n.text(o),this},i.prototype.getCheckboxes=function(){return this.tbody.selectAll('input[type="checkbox"]')},i.prototype.getCheckedValues=function(){return this.tbody.selectAll('input[type="checkbox"]:checked')[0].map(function(e){return e.value})},i.prototype.isCheckedEmpty=function(){var e=this.headerCheckbox.node();return!(e.checked||e.indeterminate)},i.prototype.refresh=function(){var e=this.headerCheckbox.node(),t=this.getCheckboxes(),n=t.size(),o=t.filter(":checked").size();0===o?e.checked=!1:o===n&&(e.checked=!0),e.indeterminate=0<o&&o<n},i.prototype.onChange=function(){},e.exports=i},function(e,t,n){"use strict";function o(){var e=arguments;return new r(function(t,n,o){var r=new FileReader;r.addEventListener("load",function(){t(r.result)}),r.addEventListener("error",function(){n(r.error)}),o&&o(function(){try{r.abort()}catch(e){}}),r.readAsText.apply(r,e)})}var r=n(8);t.readAsText=o},function(e,t,n){"use strict";function o(e){e.addEventListener("focus",function(e){e.target.select()}),e.addEventListener("mouseup",function(e){e.preventDefault()})}function r(e,t){e.tooltip(t).tooltip("show").one("hidden.bs.tooltip",function(){e.tooltip("destroy")})}function i(e){r(h(e),{title:"Copied!",placement:"bottom"})}function a(e,t,n,o){var r=t.textContent;t.textContent="Loading…",t.disabled=!0;var i={files:{},description:"Turing machine for http://turingmachine.io",public:!0};return i.files[n]={content:o},p(i).then(function(t){var n=t.id;s(e,"http://turingmachine.io/?import-gist="+n)}).catch(function(e){var n=function(){var t=e.xhr;try{return"Response from GitHub: “"+t.responseJSON.message+"”"}catch(e){return t.status>0?"HTTP status code: "+t.status+" "+t.statusText:"GitHub could not be reached.\nYour Internet connection may be offline."}}();alert("Could not create new gist.\n\n"+n),t.disabled=!1,t.textContent=r})}function s(e,t){e.innerHTML='<input id="sharedPermalink" type="url" class="form-control" readonly><button type="button" class="btn btn-default" data-clipboard-target="#sharedPermalink"><span class="glyphicon glyphicon-copy" aria-hidden="true"></span></button>';var n=e.querySelector("input");n.value=t,n.size=t.length+2,o(n),n.focus()}function c(e){return e.innerHTML='<button type="button" class="btn btn-default">Create permalink</button><p class="help-block">This will create and link to a new <a href="https://help.github.com/articles/creating-gists/#creating-an-anonymous-gist" target="_blank">read-only</a> GitHub gist.</p>',e.querySelector("button")}function u(e,t){var n=document.createElement("a");if(n.href="data:text/x-yaml;charset=utf-8,"+encodeURIComponent(t),n.target="_blank",n.download=e,f)return n.textContent="Download document",n.className="btn btn-primary",n;n.textContent="Right-click here and choose “Save target as…” or “Download Linked File As…”";var o=document.createElement("p");return o.innerHTML=", <br>then name the file to end with <code>.yaml</code>",o.insertBefore(n,o.firstChild),o}function l(e){function t(){var e,t,o=r(),f=o.name+".yaml",g=d.stringifyDocument(o);s()||(t=h('<div class="alert alert-warning" role="alert">The code editor has <strong>unsynced changes</strong> and might not correspond with the diagram.<br>Click <q>Load machine</q> to try to sync them. Otherwise, two sets of code will be exported.</div>').prependTo(n.find(".modal-body"))),c(l).addEventListener("click",function(t){e=a(l,t.target,f,g)}),p.appendChild(u(f,g)),y.value=g;var b=new m("[data-clipboard-target]");return b.on("success",function(e){i(e.trigger),e.clearSelection()}),function(){if(e)try{e.cancel()}catch(e){}t&&t.remove(),l.textContent="",p.textContent="",y.value="",b.destroy()}}var n=e.$dialog,r=e.getCurrentDocument,s=e.getIsSynced,l=e.gistContainer,p=e.downloadContainer,y=e.textarea;f&&n.addClass("download-attr"),g||n.addClass("no-copycommand"),l.className="form-group form-inline",o(y),n.on("show.bs.modal",function(){var e=t();n.one("hidden.bs.modal",e)}),n.on("shown.bs.modal",function(){y.setSelectionRange(0,0)})}var d=n(5),p=n(14).createGist,m=n(36),h=n(4),f=!window.externalHost&&"download"in document.createElement("a"),g=function(){try{return document.queryCommandSupported("copy")}catch(e){return!1}}();t.init=l},function(e,t,n){"use strict";function o(e){function t(){n.modal("hide");var e=r.dialogNode;n.one("hidden.bs.modal",function(){e.classList.contains("in")&&document.body.classList.add("modal-open")})}var n=e.$dialog,o=e.gistIDForm,r=e.importArgs;o.addEventListener("submit",function(e){e.preventDefault(),t();var n=o.querySelector('input[type="text"]').value;s.importGist(u.assign({gistID:n},r))}),function(){var e=document.querySelector("#importFilesPanel > .panel-body"),n=e.querySelector('input[type="file"]'),o=document.getElementById("importFilesButton");o.addEventListener("click",function(){t(),s.importLocalFiles(u.assign({files:n.files},r))});var i=e.querySelector("textarea"),c=document.getElementById("importContentsButton");c.parentNode.style.position="relative",c.addEventListener("click",function(t){a({containers:{status:t.target.parentNode,details:e},importDocument:r.importDocument},i.value)&&i.select()})}()}function r(){return l.select(document.createElement("button")).attr({class:"close","aria-label":"Close"}).html('<span aria-hidden="true">&times;</span>').node()}function i(e,t){function n(){var e=i.append("div").attr({role:"alert",class:"alert alert-danger"}).style("margin-top","1em");if(e.append(r).attr("data-dismiss","alert").on("click",function(){a.remove()}),t instanceof c.YAMLException)e.append("h4").text("Not valid YAML"),e.append("pre").text(t.message);else{if(!(t instanceof c.InvalidDocumentError))return e.append("h4").text("Unexpected error"),e.append("pre").text(String(t)),"Import failed";e.append("span").text(t.message.replace(/\.?$/,"."))}return"Not a valid document"}var o=l.select(e.status),i=l.select(e.details);o.selectAll('[role="alert"]').remove(),i.selectAll(".alert").remove();var a=o.append("span").attr({role:"alert"}).style({position:"absolute",left:0,width:"40%",top:"50%",transform:"translateY(-60%)"});if(t){var s=n();a.attr({class:"text-danger"}).html('<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> '+s)}else a.attr({class:"text-success"}).html('<span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Import succeeded').transition().delay(2500).duration(2e3).style("opacity",0).remove()}function a(e,t){var n=e.containers,o=e.importDocument,r=function(){try{o(c.parseDocument(t))}catch(e){return e}}();return i(n,r),null==r}var s=n(15),c=n(5),u=n(1),l=n(2);t.init=o},,,,,function(e,t){e.exports=Clipboard}]);
//# sourceMappingURL=main.bundle.js.map